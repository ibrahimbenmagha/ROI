CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  FirstName VARCHAR(50),
  LastName VARCHAR(50),
  role VARCHAR(20),
  Email VARCHAR(255) UNIQUE NOT NULL,
  PSW VARCHAR(255) NOT NULL, 
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE Labo (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  userId INTEGER UNIQUE,
  Status BOOLEAN DEFAULT 1,
  Name VARCHAR(100) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (userId) REFERENCES users (id) ON DELETE CASCADE
);

CREATE TABLE admins (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  userId INTEGER UNIQUE,
  FOREIGN KEY (userId) REFERENCES users (id) ON DELETE CASCADE
);

CREATE TABLE ActivitiesList (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  Name VARCHAR(255) NOT NULL UNIQUE
);

CREATE TABLE ActivityByLabo (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  laboId INTEGER,
  ActivityId INTEGER,
  FOREIGN KEY (laboId) REFERENCES Labo (id) ON DELETE CASCADE,
  FOREIGN KEY (ActivityId) REFERENCES ActivitiesList (id) ON DELETE CASCADE
);

CREATE TABLE ActivityItems (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  Name VARCHAR(255) NOT NULL,
  ActivityId INTEGER,
  FOREIGN KEY (ActivityId) REFERENCES ActivitiesList (id) ON DELETE CASCADE
);

CREATE TABLE ActivityItemsValue (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  ActivityItemId INTEGER,
  ActivityByLaboId INTEGER,
  value DECIMAL(10,2),
  year YEAR,
  FOREIGN KEY (ActivityItemId) REFERENCES ActivityItems (id) ON DELETE CASCADE,
  FOREIGN KEY (ActivityByLaboId) REFERENCES ActivityByLabo (id) ON DELETE CASCADE
);

CREATE TABLE ReturnOfInvestisment (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  LaboId INTEGER,
  value DECIMAL(10,2),
  year YEAR,
  FOREIGN KEY (LaboId) REFERENCES Labo (id) ON DELETE CASCADE
);
